# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами
- src/components/cart.ts - работа с корзиной
- src/components/cards.ts - работа с отображением карточек товара
- src/components/order.ts - файл с кодом, связанным с окнами подтверждения заказа и их валидацией

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура приложения
Приложение построено на основе архитектуры MVP (Model-View-Presenter), которая состоит из трех слоев:

Модель (Model): Отвечает за логику данных, включая хранение и манипуляцию данными продуктов и корзины.
Представление (View): Компоненты интерфейса, отвечающие за отображение данных и реагирование на действия пользователя.
Презентер (Presenter): Связывает модель и представление, обрабатывая пользовательский ввод и обновляя представление на основе изменений в модели.

### Модель (Model)

Модель отвечает за данные и бизнес-логику приложения. Модель включает в себя:
- сущности ProductItem и CartItem, определенные в файле src/types/index.ts.

для сущности Товар (ProductItem)
```
id: string;               Уникальный идентификатор товара
price: number | null;     Цена товара
image: string;            URL изображения товара
category: string;         Категория товара
description: string;      Описание товара
title: string;            Название товара
selected: boolean;        Флаг, выбран ли товар
```

для сущности Элемент корзины (CartItem)
```
id: string;               Уникальный идентификатор товара
title: string;            Название товара
price: number;            Цена товара
```

- классы

ProductList: Класс, управляющий списком продуктов, включая загрузку, сохранение и управление состоянием продуктов.
Modal: Класс, управляющий модальными окнами, включая корзину и оформление заказа.
OrderModal, ContactsModal, SuccessModal: Классы, отвечающие за различные этапы оформления заказа.

### Представление (View)
Компоненты интерфейса взаимодействуют с пользователем и предоставляют ему визуальную обратную связь. Основные классы:

- CartModal — представляет модальное окно корзины и определяет методы open() и close().

для сущности Корзина (CartModal)
```
open(): void;              Открыть корзину
close(): void;             Закрыть корзину
items: CartItem[];         Список товаров в корзине
```

- Cards: Отвечает за отображение данных карточки товара в каталоге.
- Order: Отвечает за отображение первого шага заказа в модальном окне.
- Contacts: Отвечает за отображение второго шага заказа в модальном окне.
- Success: Отвечает за отображение успешного оформления заказа в модальном окне.

###  Презентер (Presenter)
Презентер связывает модель и представление, обрабатывая события и обновляя состояние приложения. В данном проекте презентер включает в себя:
- cart.ts обрабатывает события, связанные с корзиной: добавление и удаление товаров.
- order.ts отвечает за обработку подтверждения заказа и валидацию, с модальными окнами OrderModal и ContactsModal.
- index.ts: Точка входа приложения, инициализирующая модель и представление, а также связывающая их между собой. 
- Event Listeners: Обработчики событий, которые реагируют на действия пользователя (например, клики по кнопкам) и обновляют состояние приложения.